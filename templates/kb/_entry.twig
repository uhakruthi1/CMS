{% extends '_layouts/base' %}

{% set pageTitle = entry.title %}

{% block content %}
    <section class="c-section">
        {% include '_components/breadcrumbs.twig' with {
            crumbs: [
                { label: 'Home', url: '/' },
                { label: 'Knowledge Base', url: '/kb' },
                { label: entry.title }
            ]
        } only %}

        <article class="kb-article">
            <header>
                <p class="kb-card__eyebrow">Knowledge Base</p>
                <h1>{{ entry.title }}</h1>
                <p class="kb-article__summary">{{ entry.kbSummary }}</p>
                {% if entry.kbTags|length %}
                    <div class="kb-card__tags">
                        {% for tag in entry.kbTags %}
                            {% include '_components/tag-badge.twig' with { label: tag.title } only %}
                        {% endfor %}
                    </div>
                {% endif %}
            </header>
            <div class="kb-article__body">
                {{ entry.kbBody|raw }}
            </div>
        </article>

        {% if entry.kbRelatedArticles|length %}
            <section class="kb-related">
                <div class="c-section__heading">
                    <span class="c-badge">More resources</span>
                    <h2>Related articles</h2>
                </div>
                <div class="kb-grid">
                    {% for related in entry.kbRelatedArticles %}
                        {% include '_components/article-card.twig' with { article: related } only %}
                    {% endfor %}
                </div>
            </section>
        {% endif %}
    </section>
{% endblock %}
